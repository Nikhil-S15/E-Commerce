<div class="container">
    <main class="main">
      <section class="pt-150 pb-150">
        <div class="container">
          <div class="row">
            <div class="col-lg-10 m-auto">
              <div class="row">
                <div class="col-lg-5 mx-auto">
                  <div class="login_wrap widget-taber-content p-5 background-white border-radius-10 mb-md-5 mb-lg-0 mb-sm-5">
                    <div class="padding_eight_all bg-white">
                      <div class="heading_s1">
                        <h3 class="mb-30">Login</h3>
                        <p id="error" class="text-danger"></p>
                      </div>
                      <form id="login" 
                      action="/login"
                      method="post"
                      >
                        <div class="form-group">
                          <input type="text" required="" id="email" name="email" placeholder="Your Email">
                        </div>
                        <div class="form-group">
                          <input required="" type="password" id="password" name="password" placeholder="Password">
                        </div>
                        <div class="login_footer form-group">
                        </div>
                        <div class="form-group d-flex ">
                          <button  class="btn btn-fill-out btn-block hover-up" >Log in</button>
                        </div>
                        <div class="text-center text-lg-start mt-1 ">
                            <p class="small fw-bold mt-2 pt-1 mb-0">Don't have an account? <a href="/signup"
                                class="link-danger">Register</a></p>
                          </div>
                      </form>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>
  
  
  <script>

function validate() {
    const email = document.getElementById('email')
    const password = document.getElementById('password')

    const emailValue = email.value.trim()
    const passwordValue = password.value.trim()

    $.ajax({
      url: '/login',
      method: 'post',
      data: {
        email: emailValue,
        password: passwordValue,
      },
      success(response) {
        if (response.status) {
          location.href = '/'
        } else if(response.blocked){
          document.getElementById('error').innerText = "You are blocked by admin"
        } else {
          document.getElementById('error').innerText = "Email or Password is incorrect"

        }
      
      }
    })
  }


  </script>

  <!--get otp login modal form-->
<div class="modal fade" id="otp-login" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div id="content-modal" class="modal-content">
      <div id="verify-header" class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">OTP Login</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div id="otp-login-modal" class="modal-body">
        <form >
          <div class="mb-3">
            <label for="Mobile Number" class="form-label">Mobile Number</label>
            <input type="number" class="form-control" name="mobileNumber" id="mobileNumber" required>
          </div>
          <div class="d-grid gap-2">
            <button type="submit" class="btn btn-primary" id="send-otp" >Send OTP</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>